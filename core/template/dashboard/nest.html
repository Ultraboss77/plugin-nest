<div id="plugin_container" class="eqLogic-widget eqLogic #category#" style="width:#width#;height:#height#;border:#border#;border-radius:#border-radius#;background-color: #background-color#;color: #color#; #style#" data-eqtype="nest" data-translate-category="#categorie#" data-category="#category#" data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" >
    <center class="widget-name">
            <span class="warning tooltipstered">
                  <i class="test"></i>
            </span>
            <span class="cmd refresh pull-right cursor" data-cmd_id="#refresh_id#">
            <i class="fas fa-sync"></i>
            </span>
            <span class="reportModeVisible">#name_display# <span class="object_name">#object_name#</span></span>
            <a href="#eqLink#"></a>
    </center>
   <div class="row">
            <script>
                var d1 = #temperature#;
                var d2 = #humidity#;
                document.getElementById("display").innerHTML = d1 + "°#scale# / " + d2 + "%";

                $('.eqLogic[data-eqLogic_uid=#uid#] .refresh').on('click', function () {
                    jeedom.cmd.execute({id: '#refresh_id#'});
                });

                if ('#auto_away#' == '1') {
                    $('.eqLogic[data-eqLogic_uid=#uid#] .auto').css('color', 'white');
                }
                    if ('#manual_away#' == '0') {
                        $('.eqLogic[data-eqLogic_uid=#uid#] .home').css('color', 'white');
                                                $('.eqLogic[data-eqLogic_uid=#uid#] .away').hide();
                    } else {
                        $('.eqLogic[data-eqLogic_uid=#uid#] .away').css('color', 'white');
                                                $('.eqLogic[data-eqLogic_uid=#uid#] .home').hide();
                    }
                if ('#leaf#' == '1') {
                    $('.eqLogic[data-eqLogic_uid=#uid#] .leaf').css('color', '#99FF00');
                } else {
                    $('.eqLogic[data-eqLogic_uid=#uid#] .leaf').hide();
                }

                $('.eqLogic[data-eqLogic_uid=#uid#] .home').on('click', function () {
                    jeedom.cmd.execute({id: '#away_on_id#'});
                });
                $('.eqLogic[data-eqLogic_uid=#uid#] .away').on('click', function () {
                    jeedom.cmd.execute({id: '#away_off_id#'});
                });

                        if (('#mode#' == 'off\,away') || ('#mode#' == 'off') || ('#mode#' == 'off\,manual-eco')){
                                $('.eqLogic[data-eqLogic_uid=#uid#] .cool').on('click', function () {
                    jeedom.cmd.execute({id: '#cool_id#'});
                });
                        } else {
                                $('.eqLogic[data-eqLogic_uid=#uid#] .cool').on('click', function () {
                    jeedom.cmd.execute({id: '#off_id#'});
                });
                                }

                   if ('#eco_mode#' == '0') {
                                $('.eqLogic[data-eqLogic_uid=#uid#] .eco1').on('click', function () {
                    jeedom.cmd.execute({id: '#away_mode_on_id#'});
                                 });
                  } else {
                                $('.eqLogic[data-eqLogic_uid=#uid#] .eco1').on('click',  function () {
                    jeedom.cmd.execute({id: '#away_mode_off_id#'});
                });
                        }
            </script>
        <div class="col-xs-12">
            <div class="cmd cmd-widget" data-type="action" data-subtype="slider" data-cmd_id="#thermostat_cmd_id#" style="width : 232px;height : 211px;display : block;">
                           <div>
                 <i class="fa fa-circle circle" style="font-size: 10.5em;margin-left: 53px;margin-top: 36px;position :absolute;"></i>
                 <div class="circle2" style="font-size: 39em;display: inline-block; width: 0.4em; height: 0.4em; border: 36px solid black; margin-left: 24px;margin-top: 5px; border-radius: 0.35em;position :absolute;"></div>
                 <div class="circle1" style="font-size: 40em; display: inline-block; width: 0.4em; height: 0.4em; border: 7px solid #CECECE;margin-left: 21px;margin-top: 1px; border-radius: 0.35em;position :absolute;"></div>
                 <div style="margin-top : 40px;margin-left : 60px; position :absolute; " >
                        <input class="dial" value="#order#" data-role="none" data-width="116" data-height="116" />
                 </div>

                 <i class="fa fa-power-off cool cursor" style="font-size: 2.5em; position : absolute;top : 170px;left : 14px;"></i>
                 <i style="font-size:1.8em;font-weight:bold; position : absolute; top: 180px; left: 185px;" class="eco1 cursor">Éco</i>
                 <i class="fa fa-leaf leaf" style="font-size: 1.5em; position : absolute;margin-top : 125px;margin-left:110px;"></i>
                 <i class="fa fa-eye auto" style="font-size: 1.8em; position : absolute;margin-top : 15px; margin-left: 127px;color:#3498db";></i>
                 <i class="fa fa-home home cursor" style="font-size: 1.8em;position : absolute;margin-top : 15px;margin-left: 88px; color: initial;"></i>
                 <i class="icon jeedom-mouvement away cursor" style="font-size: 1.8em;position : absolute;margin-top : 15px;margin-left: 88px;"></i>
                 <span style="font-size : 1em;font-weight: bold;position: absolute; margin-left : 83px;margin-top: 157px; color: white;"><div id="display"></div></span>
                 <div style="font-size:2em; position : absolute;margin-left: 85px;margin-top: 85px;" class="stop">Éteint</div>
                 <div style="font-size:0.8em; position : absolute;margin-left: 95px;margin-top: 170px;" class="eco">Mode Éco</div>
                 <div class="scale" style="font-weight:bold; position: absolute; top: 75px; left : 152px; color: white;">
                      °#scale#
                </div>
                </div>
                <script>
                        $.include(['plugins/nest/core/template/dashboard/jquery.knob.js'], function () {
                        $(".eqLogic[data-eqLogic_uid=#uid#] .cmd[data-cmd_id=#thermostat_cmd_id#] .dial").knob({
                            step: 0.5,
                                fgColor: "#ffffff",
                                cursor:4,
                                noScroll: true,
                                angleOffset:210,
                                angleArc:300,
                            release: function (v) {
                                jeedom.cmd.execute({id: '#thermostat_cmd_id#', value: {slider: v}});
                            },
                            draw: function () {
                                setTimeout(function () {
                                    $(".cmd[data-cmd_id=#id#] .dial").css('margin-top', '0px');
                                    setTimeout(function () {
                                        $(".cmd[data-cmd_id=#id#] .dial").css('margin-top', '33px');
                                    }, 100);
                                }, 200);
                            }
                        });
                        if ('#scale#' == 'F') {
                         $('.dial').trigger(
                          'configure',{"min":50,"max":90,"step":1}
                         );
                        } else {
                         $('.dial').trigger(
                          'configure',{"min":9,"max":32}
                          );
                        };
                        if (('#mode#' == 'off\,away') || ('#mode#' == 'off') || ('#mode#' == 'off\,manual-eco')){
                        $('.eqLogic[data-eqLogic_uid=#uid#] .power-off').css('color', 'red');
                        $('.eqLogic[data-eqLogic_uid=#uid#] .circle').css('color', 'black');
                        $('.eqLogic[data-eqLogic_uid=#uid#] .eco1').hide();
                        $('.eqLogic[data-eqLogic_uid=#uid#] .dial').hide();
                        <!--$('.eqLogic[data-eqLogic_uid=#uid#] .leaf').hide();-->
                        $('.eqLogic[data-eqLogic_uid=#uid#] .scale').hide();
                        $('.dial').trigger(
                          'configure',{"min":0,bgColor: "black",fgColor: "black"}
                         );
                        } else {
                        $('.eqLogic[data-eqLogic_uid=#uid#] .stop').hide();
                        $('.eqLogic[data-eqLogic_uid=#uid#] .power-off').hide();
                        $('.eqLogic[data-eqLogic_uid=#uid#] .circle').css('color', 'grey');
                        $('.dial').trigger(
                          'configure',{bgColor: "grey"}
                         );
                        };
                        if ('#eco_mode#' == '1') {
                        $('.eqLogic[data-eqLogic_uid=#uid#] .eco').css('color', '#33FF33');
                        $('.eqLogic[data-eqLogic_uid=#uid#] .circle').css('color', '#20FFB1');
                        $('.dial').trigger(
                          'configure',{bgColor: "#20FFB1"}
                         );
                        } else {
                        $('.eqLogic[data-eqLogic_uid=#uid#] .eco').css('color', '#696969');

                        };
                        if ('#heat#' == '1') {
                        $('.eqLogic[data-eqLogic_uid=#uid#] .circle').css('color', '#FF9900');
                                                $('.dial').trigger(
                          'configure',{bgColor: "#FF9900"}
                         );
                        }
                    });
                </script>
            </div>
        </div>
    </div>
</div>
